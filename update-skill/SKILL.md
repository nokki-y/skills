---
name: update-skill
description: スキル使用後のやり取りを基にスキルを改善・更新する。スキル改善、スキル更新、スキル修正、スキルのアップデート時に使用。
argument-hint: "[スキル名]"
allowed-tools: Read, Edit, Write, Glob, Grep
---

# スキル更新スキル

スキルを使用した後のやり取りから学び、スキルを改善・更新するワークフロー。

## 実行手順

### 1. 対象スキルの特定

引数からスキル名を取得：

```
$ARGUMENTS
```

**スキル名が指定されていない場合：**
- 現在の会話で使用されたスキルを特定する
- ユーザーに確認を求める

### 2. スキルファイルの読み込み

対象スキルのファイルを特定し、すべて読み込む：

```bash
# 個人スキル
~/.claude/skills/[スキル名]/

# プロジェクトスキル
.claude/skills/[スキル名]/
```

**読み込むファイル：**
- `SKILL.md`（必須）
- `reference.md`（存在する場合）
- `templates/`配下のファイル（存在する場合）
- その他のサポートファイル

### 3. 会話からの改善点の抽出

現在の会話を分析し、以下の観点で改善点を抽出：

**機能面**
- スキルが期待通りに動作しなかった箇所
- 不足していた手順やステップ
- 追加すべき機能や処理

**説明面**
- 曖昧だった指示や説明
- 誤解を招いた表現
- 不足していたコンテキスト

**ユーザビリティ面**
- 使いにくかった操作フロー
- 改善すべきテンプレートやフォーマット
- より良い引数の扱い方

### 4. 改善案の提示

[templates/improvement-report.md](templates/improvement-report.md) の形式で改善案を提示。

**提示内容：**
- 現在のスキルの問題点
- 具体的な改善案
- 変更前後の差分プレビュー

### 5. ユーザーの確認

改善案についてユーザーの確認を得る：

- 提案通り更新するか
- 一部のみ採用するか
- 追加の修正が必要か

### 6. スキルの更新

ユーザーの承認後、スキルファイルを更新：

1. 対象ファイルを編集
2. 新規ファイルが必要な場合は作成
3. 不要になったファイルがあれば削除を提案

### 7. 更新完了報告

更新した内容を簡潔に報告：

- 変更したファイル一覧
- 主な変更点のサマリー
- テスト方法の案内

## 注意事項

- **必ず会話コンテキストを参照する**：このスキルは会話の中での気づきを基に改善するもの
- **最小限の変更に留める**：必要な改善のみを行い、過剰な変更は避ける
- **ユーザーの意図を確認する**：不明な点は必ずユーザーに確認を求める
- **バックアップの推奨**：大きな変更の前には、元のファイルの内容を確認

## 追加リソース

- 改善レポートテンプレート: [templates/improvement-report.md](templates/improvement-report.md)
